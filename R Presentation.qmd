---
title: "Exploring R with Life Expectancy Data Set"
format: revealjs
editor: visual
---

## Life Expectancy Data Set Exploration with R

This project was intended to help me explore what you can do with R.

## Project Goals

-   Import Life Expectancy Data Set.
-   Recreate one year delta queries based previous exploration
-   join delta queries with historical information
-   create charts and visuals for greater insights

## Data Set

```{r}
# load tidyverse
library(tidyverse)

# read the csv file into a data frame
life_expectancy_data <-read.csv("life-expectancy.csv")

View(life_expectancy_data)

# order data by year
df <- life_expectancy_data %>% arrange(life_expectancy_data$Year)

#group by Code, and remove any data without codes
df <- life_expectancy_data %>% group_by(life_expectancy_data$Code) %>% filter(Code != "") 


# create new data frame that calculates the deltas
df <- data.frame(Entity = df$Entity, 
                    Code = df$Code, 
                    Year = df$Year, 
                    LifeExpectancy = df$Life.expectancy..years.)

#add the Next Year Column
df <- transform(df, NextYear = c(df$Year[-1], NA))

#add the NextLifeExpectancy Column
df <- transform(df, NextLifeExpectancy = c(df$LifeExpectancy[-1], NA))

#filter on Year = NextYear -1
df <- df %>% filter(df$Year +1 == df$NextYear)

#calculate deltas
df <- transform(df, Delta = (df$NextLifeExpectancy - df$LifeExpectancy))


# order the deltas smallest to largest. This will show the most negative number, which is what we are looking for
library(tidyverse)
ordered_deltas = df %>% arrange(df$Delta)

# show data
view(ordered_deltas)

```
